"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["main"],{

/***/ 662:
/*!*************************************!*\
  !*** ./webpdfviewer/src/App.svelte ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ 985);
/* harmony import */ var svelte_internal_disclose_version__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte/internal/disclose-version */ 340);
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte */ 766);
/* harmony import */ var _akylas_panzoom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @akylas/panzoom */ 434);
/* harmony import */ var _home_mguillon_dev_nativescript_com_akylas_documentscanner_node_modules_svelte_loader_lib_hot_api_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/svelte-loader/lib/hot-api.js */ 96);
/* harmony import */ var _home_mguillon_dev_nativescript_com_akylas_documentscanner_node_modules_svelte_hmr_runtime_proxy_adapter_dom_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/svelte-hmr/runtime/proxy-adapter-dom.js */ 781);
/* module decorator */ module = __webpack_require__.hmd(module);
/* webpdfviewer/src/App.svelte generated by Svelte v4.2.8 */






function add_css(target) {
	(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.append_styles)(target, "svelte-uvamxl", ".label.svelte-uvamxl{-webkit-user-select:text;user-select:text}");
}

function get_each_context(ctx, list, i) {
	const child_ctx = ctx.slice();
	child_ctx[10] = list[i];
	return child_ctx;
}

// (42:8) {#if ocrData}
function create_if_block(ctx) {
	let each_1_anchor;
	let each_value = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ensure_array_like)(/*ocrData*/ ctx[1].blocks);
	let each_blocks = [];

	for (let i = 0; i < each_value.length; i += 1) {
		each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
	}

	return {
		c() {
			for (let i = 0; i < each_blocks.length; i += 1) {
				each_blocks[i].c();
			}

			each_1_anchor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.empty)();
		},
		m(target, anchor) {
			for (let i = 0; i < each_blocks.length; i += 1) {
				if (each_blocks[i]) {
					each_blocks[i].m(target, anchor);
				}
			}

			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.insert)(target, each_1_anchor, anchor);
		},
		p(ctx, dirty) {
			if (dirty & /*ocrData*/ 2) {
				each_value = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ensure_array_like)(/*ocrData*/ ctx[1].blocks);
				let i;

				for (i = 0; i < each_value.length; i += 1) {
					const child_ctx = get_each_context(ctx, each_value, i);

					if (each_blocks[i]) {
						each_blocks[i].p(child_ctx, dirty);
					} else {
						each_blocks[i] = create_each_block(child_ctx);
						each_blocks[i].c();
						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
					}
				}

				for (; i < each_blocks.length; i += 1) {
					each_blocks[i].d(1);
				}

				each_blocks.length = each_value.length;
			}
		},
		d(detaching) {
			if (detaching) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.detach)(each_1_anchor);
			}

			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.destroy_each)(each_blocks, detaching);
		}
	};
}

// (43:12) {#each ocrData.blocks as block}
function create_each_block(ctx) {
	let div;
	let t0_value = /*block*/ ctx[10].text + "";
	let t0;
	let t1;

	return {
		c() {
			div = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.element)("div");
			t0 = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.text)(t0_value);
			t1 = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.space)();
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.attr)(div, "class", "label svelte-uvamxl");
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "color", `white`);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "background-color", `#00000088`);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "position", `absolute`);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "font-size", /*block*/ ctx[10].fontSize * 3 + 'pt');
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "left", /*block*/ ctx[10].box.x + 'px');
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "top", /*block*/ ctx[10].box.y + 'px');
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "width", /*block*/ ctx[10].box.width + 'px');
		},
		m(target, anchor) {
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.insert)(target, div, anchor);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.append)(div, t0);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.append)(div, t1);
		},
		p(ctx, dirty) {
			if (dirty & /*ocrData*/ 2 && t0_value !== (t0_value = /*block*/ ctx[10].text + "")) (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_data)(t0, t0_value);

			if (dirty & /*ocrData*/ 2) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "font-size", /*block*/ ctx[10].fontSize * 3 + 'pt');
			}

			if (dirty & /*ocrData*/ 2) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "left", /*block*/ ctx[10].box.x + 'px');
			}

			if (dirty & /*ocrData*/ 2) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "top", /*block*/ ctx[10].box.y + 'px');
			}

			if (dirty & /*ocrData*/ 2) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div, "width", /*block*/ ctx[10].box.width + 'px');
			}
		},
		d(detaching) {
			if (detaching) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.detach)(div);
			}
		}
	};
}

function create_fragment(ctx) {
	let div1;
	let div0;
	let img_1;
	let img_1_src_value;
	let t;
	let initPanzoom_action;
	let mounted;
	let dispose;
	let if_block = /*ocrData*/ ctx[1] && create_if_block(ctx);

	return {
		c() {
			div1 = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.element)("div");
			div0 = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.element)("div");
			img_1 = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.element)("img");
			t = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.space)();
			if (if_block) if_block.c();
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.attr)(img_1, "alt", "test");
			if (!(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.src_url_equal)(img_1.src, img_1_src_value = /*imgPath*/ ctx[0])) (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.attr)(img_1, "src", img_1_src_value);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(img_1, "position", `absolute`);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div0, "width", /*imageWidth*/ ctx[3] + 'px');
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div0, "height", /*imageHeight*/ ctx[4] + 'px');
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div1, "width", "100%");
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div1, "height", "100%");
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div1, "padding", "0");
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div1, "margin", "0");
		},
		m(target, anchor) {
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.insert)(target, div1, anchor);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.append)(div1, div0);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.append)(div0, img_1);
			/*img_1_binding*/ ctx[8](img_1);
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.append)(div0, t);
			if (if_block) if_block.m(div0, null);

			if (!mounted) {
				dispose = [
					(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.listen)(img_1, "load", /*onImageLoaded*/ ctx[6]),
					(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.action_destroyer)(initPanzoom_action = /*initPanzoom*/ ctx[5].call(null, div0))
				];

				mounted = true;
			}
		},
		p(ctx, [dirty]) {
			if (dirty & /*imgPath*/ 1 && !(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.src_url_equal)(img_1.src, img_1_src_value = /*imgPath*/ ctx[0])) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.attr)(img_1, "src", img_1_src_value);
			}

			if (/*ocrData*/ ctx[1]) {
				if (if_block) {
					if_block.p(ctx, dirty);
				} else {
					if_block = create_if_block(ctx);
					if_block.c();
					if_block.m(div0, null);
				}
			} else if (if_block) {
				if_block.d(1);
				if_block = null;
			}

			if (dirty & /*imageWidth*/ 8) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div0, "width", /*imageWidth*/ ctx[3] + 'px');
			}

			if (dirty & /*imageHeight*/ 16) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_style)(div0, "height", /*imageHeight*/ ctx[4] + 'px');
			}
		},
		i: svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
		o: svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
		d(detaching) {
			if (detaching) {
				(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.detach)(div1);
			}

			/*img_1_binding*/ ctx[8](null);
			if (if_block) if_block.d();
			mounted = false;
			(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.run_all)(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let imgPath;
	let ocrData;
	let panzoom;
	let img = HTMLImageElement;
	let imageWidth;
	let imageHeight;

	function initPanzoom(node) {
		panzoom = (0,_akylas_panzoom__WEBPACK_IMPORTED_MODULE_3__["default"])(node, {
			cursor: 'default',
			contain: 'aspectfit',
			excludeClass: 'label'
		});

		node.parentElement.addEventListener('wheel', panzoom.zoomWithWheel);
	}

	function updateOCRData(imagePath, data) {
		$$invalidate(0, imgPath = imagePath);
		$$invalidate(1, ocrData = data);
	}

	document['updateOCRData'] = updateOCRData;

	function onImageLoaded() {
		if (img) {
			$$invalidate(3, imageWidth = img.width);
			$$invalidate(4, imageHeight = img.height);
			const scale = Math.min(document.body.clientWidth / img.width, document.body.clientHeight / img.height);
			panzoom.setOptions({ minScale: scale });
			panzoom.zoom(scale);

			setTimeout(
				() => {
					panzoom.pan(-10000, -10000);
				},
				15
			);
		}
	}

	function img_1_binding($$value) {
		svelte_internal__WEBPACK_IMPORTED_MODULE_0__.binding_callbacks[$$value ? 'unshift' : 'push'](() => {
			img = $$value;
			$$invalidate(2, img);
		});
	}

	return [
		imgPath,
		ocrData,
		img,
		imageWidth,
		imageHeight,
		initPanzoom,
		onImageLoaded,
		updateOCRData,
		img_1_binding
	];
}

class App extends svelte_internal__WEBPACK_IMPORTED_MODULE_0__.SvelteComponent {
	constructor(options) {
		super();
		(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.init)(this, options, instance, create_fragment, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.safe_not_equal, { updateOCRData: 7 }, add_css);
	}

	get updateOCRData() {
		return this.$$.ctx[7];
	}
}

if (module && module.hot) {}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (App);



/***/ }),

/***/ 711:
/*!**********************************!*\
  !*** ./webpdfviewer/src/main.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _App_svelte__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App.svelte */ 662);

const app = new _App_svelte__WEBPACK_IMPORTED_MODULE_0__["default"]({
    target: document.body
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);


/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors-node_modules_akylas_panzoom_dist_panzoom_es_js-node_modules_svelte-hmr_runtime_proxy--4f655a"], () => (__webpack_exec__(711)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);